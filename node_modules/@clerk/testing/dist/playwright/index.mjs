import{a as s,b as p,c as l,d as g}from"../chunk-3CTIIA3F.mjs";var C=async e=>{let{CLERK_FAPI:r,CLERK_TESTING_TOKEN:t}=await p(e);process.env.CLERK_FAPI=r,process.env.CLERK_TESTING_TOKEN=t};var o=async({page:e,options:r})=>{let t=r?.frontendApiUrl||process.env.CLERK_FAPI;if(!t)throw new Error(l);let m=`https://${t}/v1/**/*`;await e.route(m,(k,P)=>{let a=new URL(P.url()),i=process.env.CLERK_TESTING_TOKEN;i&&a.searchParams.set(s,i),k.continue({url:a.toString()})})};var n=async({page:e})=>{await e.waitForFunction(()=>window.Clerk!==void 0),await e.waitForFunction(()=>window.Clerk.loaded)},c=async({page:e,signInParams:r,setupClerkTestingTokenOptions:t})=>{await o({page:e,options:t}),await n({page:e}),await e.evaluate(g,{signInParams:r})},T=async({page:e,signOutOptions:r})=>{await n({page:e}),await e.evaluate(async t=>{await window.Clerk.signOut(t)},r)},w={signIn:c,signOut:T,loaded:n};export{w as clerk,C as clerkSetup,o as setupClerkTestingToken};
//# sourceMappingURL=index.mjs.map